ğŸš€ Complete Product Roadmap: Agentic Design System Platform
Version: 3.0 (Production-Grade Upgrade) Last Updated: 2026-01-01 Status: Phase 1 Complete âœ… | Entering Phase 2 ğŸš§ Team Size: 3 developers (backend, frontend, plugin) Infrastructure: Docker (local) â†’ RunPod (production)

ğŸ“‹ Executive Overview
What You're Building
A design system intelligence platform that generates "Lovable-quality" UI code by:

Extracting "DNA" from Figma (Tokens) + "Structure" from Master Components (Variants/States).

Mapping this DNA onto a standardized, accessible component library (shadcn/ui).

Rendering via a "Matrix Injector" that overrides default styles with Figma-specific rules.

Generating production-ready React code (not just raw HTML) via AI agents.

Key Architectural Decision: "The Matrix Mapper"
Instead of simple variable mapping, we use a Data-Attribute Architecture:

Skeleton: Dumb React components (shadcn/ui) that use data-variant attributes.

Skin: A dynamically generated CSS Matrix derived from Figma Component Sets.

Result: A button with data-variant="primary" automatically gets the exact hover, active, and disabled states defined in Figma, ignoring standard library defaults.

Infrastructure Stack
Development (Weeks 1-12): Local Docker (FREE)
â”œâ”€ Backend: FastAPI, Python, LangChain
â”œâ”€ Frontend: React, Vite, Tailwind, shadcn/ui
â”œâ”€ Database: PostgreSQL
â”œâ”€ Cache: Redis
â””â”€ Proxy: Nginx
ğŸ¯ Timeline Overview
PHASE 1 (COMPLETED):   MVP - Infrastructure + Basic Extraction + Raw Sandbox âœ…
PHASE 2 (Weeks 5-8):   The Matrix Engine - Smart Component Mapping + Implicit Design Support
PHASE 3 (Weeks 9-12):  Code Generation - Agent Awareness + developer Handover
PHASE 4 (Weeks 13-16): Production - Launch on RunPod + Optimization
PHASE 5 (Weeks 17-20): Advanced - Workflows + Enterprise Features
PHASE 1: MVP - Infrastructure + Basic Extraction (COMPLETED âœ…)
Status: Done. Deliverables Achieved:

âœ… Docker infrastructure running (Postgres, Redis, FastAPI, React).

âœ… Basic Figma Plugin extracting Colors & Typography.

âœ… Universal Renderer displaying raw tokens.

âœ… Sandbox Agent generating basic HTML layouts from prompts.

âœ… Database storing Design Systems and Generated Screens.

PHASE 2: The Matrix Engine - Production-Grade Components (Weeks 5-8)
Overview
Shift from "Raw HTML Rendering" to "Smart Component Mapping". We will install shadcn/ui and build the engine that forces these components to look exactly like the Figma master components, handling all variants and states automatically.

Goal: "What you see in Figma is what you get in the Sandbox."

Week 5: Component Infrastructure & The "Skeleton"
ğŸ¯ Goal
Replace raw HTML renderers with high-quality, accessible React components (shadcn/ui) that are "style-agnostic" (dumb).

ğŸ› ï¸ Tasks
Install Component Library:

Set up class-variance-authority, clsx, tailwind-merge, lucide-react.

Create dashboard/src/components/ui/ structure.

Create "Dumb" Components:

Implement Button, Card, Input, Label using React.forwardRef.

CRITICAL: Strip all opinionated Tailwind color classes (e.g., remove bg-primary, hover:bg-accent).

Replace them with Data Attribute hooks:

TypeScript

// Before (Opinionated)
className="bg-primary hover:bg-primary/90"

// After (The Matrix Way)
className="agentic-btn transition-colors"
data-variant={props.variant} // "primary", "secondary"
data-state={props.state}     // "hover", "active" inferred by CSS
Update Renderer:

Refactor DesignSystemRenderer.tsx to import and use these real React components instead of HTML tags.

Week 6: The "Matrix Scanner" (Plugin Upgrade)
ğŸ¯ Goal
Update the plugin to parse Component Sets (Variants) and handle "Implicit Design" (measuring geometry when variables are missing).

ğŸ› ï¸ Tasks
Implicit Geometry Scanner:

If a user draws a button with 4px radius but doesn't name the variable, measure node.cornerRadius.

Measure padding, gap (itemSpacing), and fill.

Component Set Parser:

Scan figma.root for COMPONENT_SET nodes (e.g., "Button", "Input").

Iterate through all children (Variants).

Parse variant names: Property 1=Primary, State=Hover.

Fuzzy State Normalizer:

Map synonyms to canonical states using Regex:

/(hover|mouse\s?over)/i â†’ hover

/(click|press|active|down)/i â†’ active

/(disable|off)/i â†’ disabled

The Diff Engine:

Compare "Default" variant vs. "Hover" variant.

Extract only the changing properties (e.g., background color shift) to keep CSS lean.

Week 7: The "Matrix Injector" (Frontend Engine)
ğŸ¯ Goal
Build the bridge that translates extracted JSON into a dynamic CSS Stylesheet that drives the UI.

ğŸ› ï¸ Tasks
Build ThemeInjector.tsx:

Accept the complex components JSON payload.

Generate a <style> block dynamically.

Generate CSS Selectors (The Matrix):

Base: .agentic-btn[data-variant='primary'] { background: #3B82F6; ... }

State: .agentic-btn[data-variant='primary']:hover { background: #2563EB; ... }

Geometry: .agentic-btn { border-radius: var(--button-radius); gap: var(--button-gap); }

Handle Fallbacks:

If Figma defines no secondary variant, do not generate CSS for it (component remains unstyled or falls back to wireframe).

This ensures we "ignore" shadcn defaults that don't exist in the design system.

Week 8: Smart Agent Awareness
ğŸ¯ Goal
Teach the Sandbox Agent about the new high-powered components available to it.

ğŸ› ï¸ Tasks
Component Registry for LLM:

Update _format_design_system_for_llm to list available logical components.

"Button: variants=['primary', 'secondary', 'ghost'], props=['icon', 'size']"

Constraint Prompt Upgrade:

Tell the LLM: "Do not build buttons using <div>. Use the <Button variant='...' /> component."

"Prefer high-level components (Card, Input) over raw HTML."

Validation:

Ensure the Agent generated JSON maps 1:1 to the props defined in our "Dumb Components" from Week 5.

PHASE 3: Code Generation - Assembly (Weeks 9-12)
Overview
Now that we have smart components, "Code Generation" becomes simpler. We aren't generating 500 lines of CSS; we are generating clean, semantic React code that imports our smart components.

Week 9: Figma Selection to Spec
Feature: Select a Frame in Figma â†’ "Generate Code".

Logic:

Recursively scan the frame.

Match nodes to our known Master Components (e.g., "This instance is a Primary Button").

For unknown elements, fall back to "Container" (div) with Flexbox/Grid properties.

Week 10: The "Assembler" Agent
Input: Tree of recognized components + raw layout nodes.

Process:

LLM constructs the React file structure.

Imports: import { Button } from '@/components/ui/button'

Structure: <Card><Button variant="primary">Click</Button></Card>

Output: Clean, readable .tsx code that looks handwritten.

Week 11: Developer Handover (Export)
Theme Export: Button to download theme.css or tailwind.config.js containing the extracted Matrix variables.

Component Export: Button to download the "Dumb" component files (button.tsx) so developers can drop them into their own projects.

Week 12: Polish & Edge Cases
Handle complex nested layouts (AutoLayout -> Flexbox/Grid).

Handle responsive resizing constraints.

Optimize the "Diff Engine" to reduce CSS file size.

PHASE 4: Production Launch (Weeks 13-16)
Week 13: Production Hardening
Security: Add API Key authentication for the Plugin.

Optimization: Move the "Matrix Injection" logic to a Web Worker or Server-Side generation if styling becomes heavy.

Docker: Finalize docker-compose.prod.yml.

Week 14: Deployment (RunPod)
Deploy Backend/Frontend to RunPod.

Configure SSL and Domain.

Connect persistent Postgres volume.

Week 15-16: Beta Testing & Docs
Write documentation for how to structure Figma files for best results (e.g., "Name your variants clearly").

Launch to initial users.

ğŸ—ï¸ Updated Architecture: The Matrix Flow
1. FIGMA PLUGIN (The Scanner)
   â”œâ”€ Scans Component Sets (Variants)
   â”œâ”€ Normalizes Names (MouseOver -> hover)
   â”œâ”€ Measures Implicit Geometry (0px radius)
   â””â”€ Outputs: Component Matrix JSON

2. BACKEND (The Storage)
   â”œâ”€ Stores the Matrix JSON
   â””â”€ validation: Checks for required base variants

3. FRONTEND (The Matrix Injector)
   â”œâ”€ ThemeInjector: Converts Matrix JSON -> CSS Stylesheet
   â”‚  â””â”€ Generates [data-variant="x"]:hover selectors
   â””â”€ Component Library (shadcn/ui):
      â””â”€ Dumb components using data-attributes only
      â””â”€ <Button data-variant="primary" />

4. AGENT (The Assembler)
   â”œâ”€ Knows available variants (Primary, Secondary)
   â””â”€ Composes UI using these high-level blocks
ğŸ’° Updated Cost Implications
No Change: This architectural shift is purely software design. It does not require new infrastructure.

Efficiency: Using shadcn/ui as a base actually reduces the amount of custom React code we need to write and maintain, likely speeding up development in Phase 2.

Next Step: Begin Phase 2, Week 5. Action: Initialize the shadcn component structure in your dashboard folder.